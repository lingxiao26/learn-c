## 进程间通信

现今常用的进程间通信方式有：  

- 管道（使用最简单）
- 信号（开销最小）
- 共享映射区（无血缘关系）
- 本地套接字（最稳定） 


#### 管道 - pipe

```
    int pipe(int fildes[2]);

    1. 其本质是一个伪文件（实为内核缓冲区）
    2. 由两个文件描述符引用，一个读端，一个写端。
    3. 规定数据从管道的写端流入管道，从读端流出

    管道的原理： 实为内核使用环形队列机制，借助内核缓冲区（4k）实现
    局限性：
        - 数据自己读不能自己写
        - 数据一旦被读走，便不再管道中存在，不可反复读取
        - 由于管道采用半双工通信方式，因此，数据只能在一个方向上流动
        - 只能在有公共祖先的进程间使用管道
```

[父子进程实现 ls | wc -l](./pipe_ls_wc.c)  
[兄弟进程实现 ls | wc -l](./pipe2_ls_wc.c)  


#### 有名管道 - fifo

跟pipe不同的地方是：fifo可以实现非父子兄弟进程间的通信（想象成两个不同的进程读取同一个文件-fifo文件）  

```
    int mkfifo(const char *pathname, mode_t mode);

    
```
